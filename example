Objectif : Automatiser le processus de déploiement des dernières images OCS depuis le fournisseur d'images Cloud GTS sur les deux régions (Paris et North) afin de garantir que les serveurs disposent toujours de la dernière version sécurisée et optimisée de l'image OCS.


---

Approche Mise à Jour : Au lieu d'utiliser plusieurs scripts Python distincts, une solution centralisée a été adoptée : un seul script Python gère l'ensemble du processus. Cette approche améliore la maintenance, optimise les performances et assure une gestion plus efficace des erreurs et des logs.


---

Fonctionnalités du Script Unique :

Récupération des images disponibles dans chaque région (Paris et North).

Identification de la dernière image OCS disponible dans chaque région.

Comparaison des images entre les régions et avec celles déployées sur les serveurs.

Vérification de la nécessité de déploiement en fonction des différences d'images.

Déploiement automatique de la dernière image si nécessaire.

Notification de l'équipe en cas de divergence entre les régions.

Intégration avec Jenkins pour un déclenchement automatisé.



---

Déroulement du Processus :

1. Identification des images disponibles dans les deux régions.


2. Détermination de la dernière image commune aux deux régions.


3. Comparaison avec l'image déjà déployée sur les serveurs.


4. Prise de décision automatisée :

Si l'image déployée est obsolète, déploiement de la dernière version.

Si les images sont identiques, aucune action n'est nécessaire.

Si les images des régions diffèrent, prendre la dernière version commune et alerter l'équipe.





---

Exemples de Scénarios :

Scénario 1 : Images différentes entre les régions

Paris : OS_V1_RHEL_9_2025_W03 (dernière image disponible)

North : OS_V1_RHEL_9_2025_W04 (dernière image disponible)

Action du script : Déploiement de l'image commune (OS_V1_RHEL_9_2025_W03) et notification de l'équipe.


Scénario 2 : Images identiques entre les régions

Paris & North : OS_V1_RHEL_9_2025_W04 (dernière image disponible)

Action du script : Comparaison avec l'image déployée et mise à jour si nécessaire.



---

Validation et Déploiement :

Tests unitaires et d'intégration pour vérifier le bon fonctionnement du script.

Déploiement progressif en environnement DEV, puis HF/HT.

Suivi et mise à jour pour assurer une évolution continue.



---

Conclusion : L'automatisation via un script unique simplifie le processus, réduit les erreurs manuelles et garantit une mise à jour rapide et fiable des images OCS. Cette approche optimise la sécurité et la conformité des serveurs tout en assurant une meilleure traçabilité et gestion des déploiements.

