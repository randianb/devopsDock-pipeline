adjust the logic of this script, the chjeck if the regions have the same latest images first then check if the image installed on each regions is the latest image  or not: 

import sys
import json
import os

def parse_list(arg):
    try:
        return json.loads(arg.replace("'", '"'))
    except json.JSONDecodeError:
        print(f"Error: Invalid list format -> {arg}")
        sys.exit(1)

def main():
    if len(sys.argv) < 7:
        print("Usage: compare_latest_ocs_images.py <LATEST_OS_IMAGE_paris> <LATEST_OS_IMAGE_north> <LIST_OS_IMAGE_paris> <LIST_OS_IMAGE_north>")
        sys.exit(1)

    latest_os_paris = sys.argv[1]
    latest_os_north = sys.argv[2]
    list_os_paris = parse_list(sys.argv[3])
    list_os_north = parse_list(sys.argv[4])
    image_installed_paris = sys.argv[5]
    image_installed_north = sys.argv[6]

    if latest_os_paris == latest_os_north:
        os_factory = latest_os_paris
        print(f"Both regions have the same OS image: {os_factory}")
    else:
        common_images = sorted(set(list_os_paris) & set(list_os_north), reverse=True)
        if common_images:
            latest_common = common_images[0]
            os_factory = latest_common
            print(f"The latest OS in Paris is not the same as in North. {latest_os_paris} is not {latest_os_north}. The latest common image between them is: {os_factory}")
        else:
            print(f"The latest OS in Paris is not the same as in North. {latest_os_paris} is not {latest_os_north}. No common OS image found between the two lists.")

    if image_installed_paris == os_factory:
        final_os_factory = image_installed_paris
        print(f"The Latest image common between regions is already installed on the server located on paris: {final_os_factory}")
        # Do Nothing 
    else:
         print(f"The Latest image common between regions is not the same installed on the server located on the paris : {image_installed_paris} is not {os_factory}")
         # it must take the latest one and print on order to use it on the deployment processus next 

    if image_installed_north == os_factory:
        final_os_factory = image_installed_north
        print(f"The Latest image common between regions is already installed on the server: {final_os_factory}")
        # Do Nothing 
    else:
         print(f"The Latest image common between regions is not the same installed on the server located on the north : {image_installed_north} is not {os_factory}")
         # it must take the latest one and print on order to use it on the deployment processus next 

    print(final_os_factory)
    
if __name__ == "__main__":
    main()
